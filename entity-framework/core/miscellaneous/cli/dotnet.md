---
title: EF Core références relatives aux outils (CLI) .NET - EF Core
author: bricelam
ms.author: bricelam
ms.date: 09/20/2018
uid: core/miscellaneous/cli/dotnet
ms.openlocfilehash: 87b9c73e32eddbf48cd3408de93245d9974efdce
ms.sourcegitcommit: 7a7da65404c9338e1e3df42576a13be536a6f95f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/06/2018
ms.locfileid: "48834784"
---
# <a name="entity-framework-core-tools-reference---net-cli"></a><span data-ttu-id="476bc-102">Référence des outils Entity Framework Core - interface CLI .NET</span><span class="sxs-lookup"><span data-stu-id="476bc-102">Entity Framework Core tools reference - .NET CLI</span></span>

<span data-ttu-id="476bc-103">Les outils de l’interface de ligne de commande (CLI) pour Entity Framework Core effectuer des tâches de développement au moment du design.</span><span class="sxs-lookup"><span data-stu-id="476bc-103">The command-line interface (CLI) tools for Entity Framework Core perform design-time development tasks.</span></span> <span data-ttu-id="476bc-104">Par exemple, ils créent [migrations](/aspnet/core/data/ef-mvc/migrations?view=aspnetcore-2.0#introduction-to-migrations), appliquer des migrations et générer du code pour un modèle basé sur une base de données existante.</span><span class="sxs-lookup"><span data-stu-id="476bc-104">For example, they create [migrations](/aspnet/core/data/ef-mvc/migrations?view=aspnetcore-2.0#introduction-to-migrations), apply migrations, and generate code for a model based on an existing database.</span></span> <span data-ttu-id="476bc-105">Les commandes sont une extension multiplateforme [dotnet](/dotnet/core/tools) commande, qui fait partie de la [du SDK .NET Core](https://www.microsoft.com/net/core).</span><span class="sxs-lookup"><span data-stu-id="476bc-105">The commands are an extension to the cross-platform [dotnet](/dotnet/core/tools) command, which is part of the [.NET Core SDK](https://www.microsoft.com/net/core).</span></span> <span data-ttu-id="476bc-106">Ces outils fonctionnent avec les projets .NET Core.</span><span class="sxs-lookup"><span data-stu-id="476bc-106">These tools work with .NET Core projects.</span></span>

<span data-ttu-id="476bc-107">Si vous utilisez Visual Studio, nous vous recommandons du [outils de la Console du Gestionnaire de Package](powershell.md) à la place :</span><span class="sxs-lookup"><span data-stu-id="476bc-107">If you're using Visual Studio, we recommend the [Package Manager Console tools](powershell.md) instead:</span></span>
* <span data-ttu-id="476bc-108">Elles fonctionnent automatiquement avec le projet sélectionné dans le **Console du Gestionnaire de Package** sans nécessiter de basculer manuellement les répertoires.</span><span class="sxs-lookup"><span data-stu-id="476bc-108">They automatically work with the current project selected in the **Package Manager Console** without requiring that you manually switch directories.</span></span>
* <span data-ttu-id="476bc-109">Elles ouvrent automatiquement les fichiers générés par une commande une fois la commande est terminée.</span><span class="sxs-lookup"><span data-stu-id="476bc-109">They automatically open files generated by a command after the command is completed.</span></span>

## <a name="installing-the-tools"></a><span data-ttu-id="476bc-110">Installation des outils</span><span class="sxs-lookup"><span data-stu-id="476bc-110">Installing the tools</span></span>

<span data-ttu-id="476bc-111">La procédure d’installation dépend de la version et le type de projet :</span><span class="sxs-lookup"><span data-stu-id="476bc-111">The installation procedure depends on project type and version:</span></span>

* <span data-ttu-id="476bc-112">ASP.NET Core 2.1 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="476bc-112">ASP.NET Core version 2.1 and later</span></span>
* <span data-ttu-id="476bc-113">EF Core 2.x</span><span class="sxs-lookup"><span data-stu-id="476bc-113">EF Core 2.x</span></span>
* <span data-ttu-id="476bc-114">EF Core 1.x</span><span class="sxs-lookup"><span data-stu-id="476bc-114">EF Core 1.x</span></span>

### <a name="aspnet-core-21"></a><span data-ttu-id="476bc-115">ASP.NET Core 2.1 +</span><span class="sxs-lookup"><span data-stu-id="476bc-115">ASP.NET Core 2.1+</span></span>

* <span data-ttu-id="476bc-116">Installer actuel [du SDK .NET Core](https://www.microsoft.com/net/download/core).</span><span class="sxs-lookup"><span data-stu-id="476bc-116">Install the current [.NET Core SDK](https://www.microsoft.com/net/download/core).</span></span> <span data-ttu-id="476bc-117">Le kit SDK doit être installé même si vous disposez de la dernière version de Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="476bc-117">The SDK has to be installed even if you have the latest version of Visual Studio 2017.</span></span>

  <span data-ttu-id="476bc-118">C’est tout ce qui est nécessaire pour ASP.NET Core 2.1 +, car le `Microsoft.EntityFrameworkCore.Design` package est inclus dans le [Microsoft.AspNetCore.App métapackage](/aspnet/core/fundamentals/metapackage-app).</span><span class="sxs-lookup"><span data-stu-id="476bc-118">This is all that is needed for ASP.NET Core 2.1+ because the `Microsoft.EntityFrameworkCore.Design` package is included in the [Microsoft.AspNetCore.App metapackage](/aspnet/core/fundamentals/metapackage-app).</span></span>

### <a name="ef-core-2x-not-aspnet-core"></a><span data-ttu-id="476bc-119">EF Core 2.x (pas ASP.NET Core)</span><span class="sxs-lookup"><span data-stu-id="476bc-119">EF Core 2.x (not ASP.NET Core)</span></span>

<span data-ttu-id="476bc-120">Le `dotnet ef` commandes sont inclus dans le SDK .NET Core, mais pour activer les commandes, vous devez installer le `Microsoft.EntityFrameworkCore.Design` package.</span><span class="sxs-lookup"><span data-stu-id="476bc-120">The `dotnet ef` commands are included in the .NET Core SDK, but to enable the commands you have to install the `Microsoft.EntityFrameworkCore.Design` package.</span></span>

* <span data-ttu-id="476bc-121">Installer actuel [du SDK .NET Core](https://www.microsoft.com/net/download/core).</span><span class="sxs-lookup"><span data-stu-id="476bc-121">Install the current [.NET Core SDK](https://www.microsoft.com/net/download/core).</span></span> <span data-ttu-id="476bc-122">Le kit SDK doit être installé même si vous disposez de la dernière version de Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="476bc-122">The SDK has to be installed even if you have the latest version of Visual Studio 2017.</span></span>

* <span data-ttu-id="476bc-123">Installer la dernière stable `Microsoft.EntityFrameworkCore.Design` package.</span><span class="sxs-lookup"><span data-stu-id="476bc-123">Install the latest stable `Microsoft.EntityFrameworkCore.Design` package.</span></span>

  ``` Console
  dotnet add package Microsoft.EntityFrameworkCore.Design
  ```

### <a name="ef-core-1x"></a><span data-ttu-id="476bc-124">EF Core 1.x</span><span class="sxs-lookup"><span data-stu-id="476bc-124">EF Core 1.x</span></span>

* <span data-ttu-id="476bc-125">Installer le SDK .NET Core version 2.1.200.</span><span class="sxs-lookup"><span data-stu-id="476bc-125">Install the .NET Core SDK version 2.1.200.</span></span> <span data-ttu-id="476bc-126">Versions ultérieures ne sont pas compatibles avec les outils CLI pour EF Core 1.0 et 1.1.</span><span class="sxs-lookup"><span data-stu-id="476bc-126">Later versions are not compatible with CLI tools for EF Core 1.0 and 1.1.</span></span>

* <span data-ttu-id="476bc-127">Configurer l’application pour utiliser le 2.1.200 SDK version en modifiant son [global.json](/dotnet/core/tools/global-json) fichier.</span><span class="sxs-lookup"><span data-stu-id="476bc-127">Configure the application to use the 2.1.200 SDK version by modifying its [global.json](/dotnet/core/tools/global-json) file.</span></span> <span data-ttu-id="476bc-128">Ce fichier est normalement inclus dans le répertoire de solution (une au-dessus du projet).</span><span class="sxs-lookup"><span data-stu-id="476bc-128">This file is normally included in the solution directory (one above the project).</span></span>

* <span data-ttu-id="476bc-129">Modifiez le fichier projet et ajoutez `Microsoft.EntityFrameworkCore.Tools.DotNet` comme un `DotNetCliToolReference` élément.</span><span class="sxs-lookup"><span data-stu-id="476bc-129">Edit the project file and add `Microsoft.EntityFrameworkCore.Tools.DotNet` as a `DotNetCliToolReference` item.</span></span> <span data-ttu-id="476bc-130">Spécifier la dernière version 1.x, par exemple : 1.1.6.</span><span class="sxs-lookup"><span data-stu-id="476bc-130">Specify the latest 1.x version, for example: 1.1.6.</span></span> <span data-ttu-id="476bc-131">Consultez l’exemple de fichier de projet à la fin de cette section.</span><span class="sxs-lookup"><span data-stu-id="476bc-131">See the project file example at the end of this section.</span></span>

* <span data-ttu-id="476bc-132">Installez la dernière version 1.x de le `Microsoft.EntityFrameworkCore.Design` du package, par exemple :</span><span class="sxs-lookup"><span data-stu-id="476bc-132">Install the latest 1.x version of the `Microsoft.EntityFrameworkCore.Design` package, for example:</span></span>

  ```console
  dotnet add package Microsoft.EntityFrameworkCore.Design -v 1.1.6
  ```

  <span data-ttu-id="476bc-133">Avec les deux références de package ajoutés, le fichier projet ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="476bc-133">With both package references added, the project file looks something like this:</span></span>

  ``` xml
  <Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
      <OutputType>Exe</OutputType>
      <TargetFramework>netcoreapp1.1</TargetFramework>
    </PropertyGroup>
    <ItemGroup>
      <PackageReference Include="Microsoft.EntityFrameworkCore.Design"
                        Version="1.1.6"
                         PrivateAssets="All" />
    </ItemGroup>
    <ItemGroup>
       <DotNetCliToolReference Include="Microsoft.EntityFrameworkCore.Tools.DotNet"
                              Version="1.1.6" />
    </ItemGroup>
  </Project>
  ```

  <span data-ttu-id="476bc-134">Une référence de package avec `PrivateAssets="All"` n’est pas exposé à des projets qui font référence à ce projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-134">A package reference with `PrivateAssets="All"` isn't exposed to projects that reference this project.</span></span> <span data-ttu-id="476bc-135">Cette restriction est particulièrement utile pour les packages qui sont utilisés en général uniquement pendant le développement.</span><span class="sxs-lookup"><span data-stu-id="476bc-135">This restriction is especially useful for packages that are typically only used during development.</span></span>

### <a name="verify-installation"></a><span data-ttu-id="476bc-136">Vérifier l’installation</span><span class="sxs-lookup"><span data-stu-id="476bc-136">Verify installation</span></span>

<span data-ttu-id="476bc-137">Exécutez les commandes suivantes pour vérifier que les outils CLI EF Core sont correctement installés :</span><span class="sxs-lookup"><span data-stu-id="476bc-137">Run the following commands to verify that EF Core CLI tools are correctly installed:</span></span>

  ``` Console
  dotnet restore
  dotnet ef
  ```

<span data-ttu-id="476bc-138">La sortie de la commande identifie la version des outils en cours d’utilisation :</span><span class="sxs-lookup"><span data-stu-id="476bc-138">The output from the command identifies the version of the tools in use:</span></span>

```console

                     _/\__
               ---==/    \\
         ___  ___   |.    \|\
        | __|| __|  |  )   \\\
        | _| | _|   \_/ |  //|\\
        |___||_|       /   \\\/\\

Entity Framework Core .NET Command-line Tools 2.1.3-rtm-32065

<Usage documentation follows, not shown.>
```

## <a name="using-the-tools"></a><span data-ttu-id="476bc-139">L’utilisation des outils</span><span class="sxs-lookup"><span data-stu-id="476bc-139">Using the tools</span></span>

<span data-ttu-id="476bc-140">Avant d’utiliser les outils, vous devrez peut-être créer un projet de démarrage ou de définir l’environnement.</span><span class="sxs-lookup"><span data-stu-id="476bc-140">Before using the tools, you might have to create a startup project or set the environment.</span></span>

### <a name="target-project-and-startup-project"></a><span data-ttu-id="476bc-141">Projet cible et le projet de démarrage</span><span class="sxs-lookup"><span data-stu-id="476bc-141">Target project and startup project</span></span>

<span data-ttu-id="476bc-142">Les commandes font référence à un *projet* et un *projet de démarrage*.</span><span class="sxs-lookup"><span data-stu-id="476bc-142">The commands refer to a *project* and a *startup project*.</span></span>

* <span data-ttu-id="476bc-143">Le *projet* est également connu sous le *projet cible* , car il est où les commandes ajoutent ou supprimer des fichiers.</span><span class="sxs-lookup"><span data-stu-id="476bc-143">The *project* is also known as the *target project* because it's where the commands add or remove files.</span></span> <span data-ttu-id="476bc-144">Par défaut, le projet dans le répertoire actif est le projet cible.</span><span class="sxs-lookup"><span data-stu-id="476bc-144">By default, the project in the current directory is the target project.</span></span> <span data-ttu-id="476bc-145">Vous pouvez spécifier un autre projet comme projet cible à l’aide de la <nobr> `--project` </nobr> option.</span><span class="sxs-lookup"><span data-stu-id="476bc-145">You can specify a different project as target project by using the <nobr>`--project`</nobr> option.</span></span>

* <span data-ttu-id="476bc-146">Le *projet de démarrage* est celui que les outils de générer et exécuter.</span><span class="sxs-lookup"><span data-stu-id="476bc-146">The *startup project* is the one that the tools build and run.</span></span> <span data-ttu-id="476bc-147">Les outils ont exécuter du code de l’application au moment du design pour obtenir des informations sur le projet, telles que la chaîne de connexion de base de données et la configuration du modèle.</span><span class="sxs-lookup"><span data-stu-id="476bc-147">The tools have to execute application code at design time to get information about the project, such as the database connection string and the configuration of the model.</span></span> <span data-ttu-id="476bc-148">Par défaut, le projet dans le répertoire actif est le projet de démarrage.</span><span class="sxs-lookup"><span data-stu-id="476bc-148">By default, the project in the current directory is the startup project.</span></span> <span data-ttu-id="476bc-149">Vous pouvez spécifier un autre projet comme projet de démarrage à l’aide de la <nobr> `--startup-project` </nobr> option.</span><span class="sxs-lookup"><span data-stu-id="476bc-149">You can specify a different project as startup project by using the <nobr>`--startup-project`</nobr> option.</span></span>

<span data-ttu-id="476bc-150">Le projet de démarrage et le projet cible sont souvent le même projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-150">The startup project and target project are often the same project.</span></span> <span data-ttu-id="476bc-151">Un scénario classique dans lequel ils sont des projets distincts est cas suivants :</span><span class="sxs-lookup"><span data-stu-id="476bc-151">A typical scenario where they are separate projects is when:</span></span>

* <span data-ttu-id="476bc-152">Les classes d’entité et de contexte EF Core sont dans une bibliothèque de classes .NET Core.</span><span class="sxs-lookup"><span data-stu-id="476bc-152">The EF Core context and entity classes are in a .NET Core class library.</span></span>
* <span data-ttu-id="476bc-153">Une application console .NET Core ou une application web fait référence à la bibliothèque de classes.</span><span class="sxs-lookup"><span data-stu-id="476bc-153">A .NET Core console app or web app references the class library.</span></span>

<span data-ttu-id="476bc-154">Il est également possible de [mettre le code de migrations dans une bibliothèque de classes distincte à partir du contexte EF Core](xref:core/managing-schemas/migrations/projects).</span><span class="sxs-lookup"><span data-stu-id="476bc-154">It's also possible to [put migrations code in a class library separate from the EF Core context](xref:core/managing-schemas/migrations/projects).</span></span>

### <a name="other-target-frameworks"></a><span data-ttu-id="476bc-155">Autres frameworks cibles</span><span class="sxs-lookup"><span data-stu-id="476bc-155">Other target frameworks</span></span>

<span data-ttu-id="476bc-156">Les outils CLI fonctionnent avec les projets .NET Core et .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="476bc-156">The CLI tools work with .NET Core projects and .NET Framework projects.</span></span> <span data-ttu-id="476bc-157">Les applications qui ont le modèle EF Core dans une bibliothèque de classes .NET Standard peut-être pas un projet de .NET Framework ou le .NET Core.</span><span class="sxs-lookup"><span data-stu-id="476bc-157">Apps that have the EF Core model in a .NET Standard class library might not have a .NET Core or .NET Framework project.</span></span> <span data-ttu-id="476bc-158">Par exemple, cela est vrai pour les applications Xamarin et de la plateforme Windows universelle.</span><span class="sxs-lookup"><span data-stu-id="476bc-158">For example, this is true of Xamarin and Universal Windows Platform apps.</span></span> <span data-ttu-id="476bc-159">Dans ce cas, vous pouvez créer un projet d’application console .NET Core dont seul but est d’agir en tant que projet de démarrage pour les outils.</span><span class="sxs-lookup"><span data-stu-id="476bc-159">In such cases, you can create a .NET Core console app project whose only purpose is to act as startup project for the tools.</span></span> <span data-ttu-id="476bc-160">Le projet peut être un projet factice sans code réel &mdash; il est uniquement nécessaire pour fournir une cible pour les outils.</span><span class="sxs-lookup"><span data-stu-id="476bc-160">The project can be a dummy project with no real code &mdash; it is only needed to provide a target for the tooling.</span></span>

<span data-ttu-id="476bc-161">Pourquoi est-un projet factice requis ?</span><span class="sxs-lookup"><span data-stu-id="476bc-161">Why is a dummy project required?</span></span> <span data-ttu-id="476bc-162">Comme mentionné précédemment, les outils ont exécuter du code de l’application au moment du design.</span><span class="sxs-lookup"><span data-stu-id="476bc-162">As mentioned earlier, the tools have to execute application code at design time.</span></span> <span data-ttu-id="476bc-163">Pour ce faire, ils doivent utiliser le runtime .NET Core.</span><span class="sxs-lookup"><span data-stu-id="476bc-163">To do that, they need to use the .NET Core runtime.</span></span> <span data-ttu-id="476bc-164">Lorsque le modèle EF Core est dans un projet qui cible .NET Core ou .NET Framework, les outils EF Core emprunt le runtime à partir du projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-164">When the EF Core model is in a project that targets .NET Core or .NET Framework, the EF Core tools borrow the runtime from the project.</span></span> <span data-ttu-id="476bc-165">Ils ne le sauront pas si le modèle EF Core se trouve dans une bibliothèque de classes .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="476bc-165">They can't do that if the EF Core model is in a .NET Standard class library.</span></span> <span data-ttu-id="476bc-166">.NET Standard n’est pas une implémentation réelle de .NET ; Il est une spécification d’un ensemble d’API implémentations .NET doivent prendre en charge.</span><span class="sxs-lookup"><span data-stu-id="476bc-166">The .NET Standard is not an actual .NET implementation; it's a specification of a set of APIs that .NET implementations must support.</span></span> <span data-ttu-id="476bc-167">Par conséquent, .NET Standard n’est pas suffisant pour les outils EF Core exécuter du code d’application.</span><span class="sxs-lookup"><span data-stu-id="476bc-167">Therefore .NET Standard is not sufficient for the EF Core tools to execute application code.</span></span> <span data-ttu-id="476bc-168">Le projet factice que vous créez à utiliser en tant que projet de démarrage fournit une plateforme cible concrète dans lequel les outils peuvent charger la bibliothèque de classes .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="476bc-168">The dummy project you create to use as startup project provides a concrete target platform into which the tools can load the .NET Standard class library.</span></span>

### <a name="aspnet-core-environment"></a><span data-ttu-id="476bc-169">Environnement ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="476bc-169">ASP.NET Core environment</span></span>

<span data-ttu-id="476bc-170">Pour spécifier l’environnement pour les projets ASP.NET Core, définissez le **ASPNETCORE_ENVIRONMENT** variable d’environnement avant d’exécuter des commandes.</span><span class="sxs-lookup"><span data-stu-id="476bc-170">To specify the environment for ASP.NET Core projects, set the **ASPNETCORE_ENVIRONMENT** environment variable before running commands.</span></span>

## <a name="common-options"></a><span data-ttu-id="476bc-171">Options courantes</span><span class="sxs-lookup"><span data-stu-id="476bc-171">Common options</span></span>

|                   | <span data-ttu-id="476bc-172">Option</span><span class="sxs-lookup"><span data-stu-id="476bc-172">Option</span></span>                            | <span data-ttu-id="476bc-173">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-173">Description</span></span>                                                                                                                                                                                                                                                   |
|:------------------|:----------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                   | `--json`                          | <span data-ttu-id="476bc-174">Afficher la sortie JSON.</span><span class="sxs-lookup"><span data-stu-id="476bc-174">Show JSON output.</span></span>                                                                                                                                                                                                                                             |
| <nobr>`-c`</nobr> | `--context <DBCONTEXT>`           | <span data-ttu-id="476bc-175">Le `DbContext` classe à utiliser.</span><span class="sxs-lookup"><span data-stu-id="476bc-175">The `DbContext` class to use.</span></span> <span data-ttu-id="476bc-176">Nom de classe complet avec des espaces de noms ou uniquement.</span><span class="sxs-lookup"><span data-stu-id="476bc-176">Class name only or fully qualified with namespaces.</span></span>  <span data-ttu-id="476bc-177">Si cette option est omise, EF Core trouve la classe de contexte.</span><span class="sxs-lookup"><span data-stu-id="476bc-177">If this option is omitted, EF Core will find the context class.</span></span> <span data-ttu-id="476bc-178">S’il existe plusieurs classes de contexte, cette option est requise.</span><span class="sxs-lookup"><span data-stu-id="476bc-178">If there are multiple context classes, this option is required.</span></span>                                            |
| `-p`              | `--project <PROJECT>`             | <span data-ttu-id="476bc-179">Chemin d’accès relatif au dossier du projet du projet cible.</span><span class="sxs-lookup"><span data-stu-id="476bc-179">Relative path to the project folder of the target project.</span></span>  <span data-ttu-id="476bc-180">Valeur par défaut est le dossier actif.</span><span class="sxs-lookup"><span data-stu-id="476bc-180">Default value is the current folder.</span></span>                                                                                                                                                              |
| `-s`              | `--startup-project <PROJECT>`     | <span data-ttu-id="476bc-181">Chemin d’accès relatif au dossier du projet du projet de démarrage.</span><span class="sxs-lookup"><span data-stu-id="476bc-181">Relative path to the project folder of the startup project.</span></span> <span data-ttu-id="476bc-182">Valeur par défaut est le dossier actif.</span><span class="sxs-lookup"><span data-stu-id="476bc-182">Default value is the current folder.</span></span>                                                                                                                                                              |
|                   | `--framework <FRAMEWORK>`         | <span data-ttu-id="476bc-183">Le [Moniker du Framework cible](/dotnet/standard/frameworks#supported-target-framework-versions) pour le [framework cible](/dotnet/standard/frameworks).</span><span class="sxs-lookup"><span data-stu-id="476bc-183">The [Target Framework Moniker](/dotnet/standard/frameworks#supported-target-framework-versions) for the [target framework](/dotnet/standard/frameworks).</span></span>  <span data-ttu-id="476bc-184">À utiliser lorsque le fichier projet spécifie plusieurs frameworks cibles, et que vous souhaitez sélectionner un d’eux.</span><span class="sxs-lookup"><span data-stu-id="476bc-184">Use when the project file specifies multiple target frameworks, and you want to select one of them.</span></span> |
|                   | `--configuration <CONFIGURATION>` | <span data-ttu-id="476bc-185">La configuration de build, par exemple : `Debug` ou `Release`.</span><span class="sxs-lookup"><span data-stu-id="476bc-185">The build configuration, for example: `Debug` or `Release`.</span></span>                                                                                                                                                                                                   |
|                   | `--runtime <IDENTIFIER>`          | <span data-ttu-id="476bc-186">L’identificateur du runtime cible à restaurer les packages.</span><span class="sxs-lookup"><span data-stu-id="476bc-186">The identifier of the target runtime to restore packages for.</span></span> <span data-ttu-id="476bc-187">Pour connaître les identificateurs de runtime, consultez le [catalogue des identificateurs de runtime](/dotnet/core/rid-catalog).</span><span class="sxs-lookup"><span data-stu-id="476bc-187">For a list of Runtime Identifiers (RIDs), see the [RID catalog](/dotnet/core/rid-catalog).</span></span>                                                                                                      |
| `-h`              | `--help`                          | <span data-ttu-id="476bc-188">Afficher les informations d’aide.</span><span class="sxs-lookup"><span data-stu-id="476bc-188">Show help information.</span></span>                                                                                                                                                                                                                                        |
| `-v`              | `--verbose`                       | <span data-ttu-id="476bc-189">Afficher la sortie détaillée.</span><span class="sxs-lookup"><span data-stu-id="476bc-189">Show verbose output.</span></span>                                                                                                                                                                                                                                          |
|                   | `--no-color`                      | <span data-ttu-id="476bc-190">Ne pas mettre en couleur sortie.</span><span class="sxs-lookup"><span data-stu-id="476bc-190">Don't colorize output.</span></span>                                                                                                                                                                                                                                        |
|                   | `--prefix-output`                 | <span data-ttu-id="476bc-191">Préfixe avec le niveau de sortie.</span><span class="sxs-lookup"><span data-stu-id="476bc-191">Prefix output with level.</span></span>                                                                                                                                                                                                                                     |

## <a name="dotnet-ef-database-drop"></a><span data-ttu-id="476bc-192">liste de base de données ef dotnet</span><span class="sxs-lookup"><span data-stu-id="476bc-192">dotnet ef database drop</span></span>

<span data-ttu-id="476bc-193">Supprime la base de données.</span><span class="sxs-lookup"><span data-stu-id="476bc-193">Drops the database.</span></span>

<span data-ttu-id="476bc-194">Options :</span><span class="sxs-lookup"><span data-stu-id="476bc-194">Options:</span></span>

|                   | <span data-ttu-id="476bc-195">Option</span><span class="sxs-lookup"><span data-stu-id="476bc-195">Option</span></span>                   | <span data-ttu-id="476bc-196">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-196">Description</span></span>                                              |
|:------------------|:-------------------------|:---------------------------------------------------------|
| <nobr>`-f`</nobr> | <nobr>`--force`</nobr>   | <span data-ttu-id="476bc-197">Ne pas confirmer.</span><span class="sxs-lookup"><span data-stu-id="476bc-197">Don't confirm.</span></span>                                           |
|                   | <nobr>`--dry-run`</nobr> | <span data-ttu-id="476bc-198">Afficher la base de données serait supprimée, mais ne la supprimez.</span><span class="sxs-lookup"><span data-stu-id="476bc-198">Show which database would be dropped, but don't drop it.</span></span> |

## <a name="dotnet-ef-database-update"></a><span data-ttu-id="476bc-199">mise à jour de la base de données DotNet ef</span><span class="sxs-lookup"><span data-stu-id="476bc-199">dotnet ef database update</span></span>

<span data-ttu-id="476bc-200">Met à jour la base de données pour la dernière migration ou pour une migration spécifiée.</span><span class="sxs-lookup"><span data-stu-id="476bc-200">Updates the database to the last migration or to a specified migration.</span></span>

<span data-ttu-id="476bc-201">Arguments :</span><span class="sxs-lookup"><span data-stu-id="476bc-201">Arguments:</span></span>

| <span data-ttu-id="476bc-202">Argument</span><span class="sxs-lookup"><span data-stu-id="476bc-202">Argument</span></span>      | <span data-ttu-id="476bc-203">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-203">Description</span></span>                                                                                                                                                                                                                                                     |
|:--------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `<MIGRATION>` | <span data-ttu-id="476bc-204">La migration de la cible.</span><span class="sxs-lookup"><span data-stu-id="476bc-204">The target migration.</span></span> <span data-ttu-id="476bc-205">Migrations peuvent être identifiées par nom ou par ID.</span><span class="sxs-lookup"><span data-stu-id="476bc-205">Migrations may be identified by name or by ID.</span></span> <span data-ttu-id="476bc-206">La valeur 0 est un cas spécial signifie *avant la première migration* et oblige toutes les migrations à rétablir.</span><span class="sxs-lookup"><span data-stu-id="476bc-206">The number 0 is a special case that means *before the first migration* and causes all migrations to be reverted.</span></span> <span data-ttu-id="476bc-207">Si aucune migration n’est spécifiée, la commande par défaut est la dernière migration.</span><span class="sxs-lookup"><span data-stu-id="476bc-207">If no migration is specified, the command defaults to the last migration.</span></span> |

<span data-ttu-id="476bc-208">Les exemples suivants mettre à jour la base de données pour une migration spécifiée.</span><span class="sxs-lookup"><span data-stu-id="476bc-208">The following examples update the database to a specified migration.</span></span> <span data-ttu-id="476bc-209">La première utilise le nom de la migration et la seconde utilise l’ID de la migration :</span><span class="sxs-lookup"><span data-stu-id="476bc-209">The first uses the migration name and the second uses the migration ID:</span></span>

```console
dotnet ef database update InitialCreate
dotnet ef database update 20180904195021_InitialCreate
```

## <a name="dotnet-ef-dbcontext-info"></a><span data-ttu-id="476bc-210">informations de dbcontext ef dotnet</span><span class="sxs-lookup"><span data-stu-id="476bc-210">dotnet ef dbcontext info</span></span>

<span data-ttu-id="476bc-211">Obtient des informations sur un `DbContext` type.</span><span class="sxs-lookup"><span data-stu-id="476bc-211">Gets information about a `DbContext` type.</span></span>

## <a name="dotnet-ef-dbcontext-list"></a><span data-ttu-id="476bc-212">liste de dbcontext ef dotnet</span><span class="sxs-lookup"><span data-stu-id="476bc-212">dotnet ef dbcontext list</span></span>

<span data-ttu-id="476bc-213">Listes disponibles `DbContext` types.</span><span class="sxs-lookup"><span data-stu-id="476bc-213">Lists available `DbContext` types.</span></span>

## <a name="dotnet-ef-dbcontext-scaffold"></a><span data-ttu-id="476bc-214">structure de dbcontext ef dotnet</span><span class="sxs-lookup"><span data-stu-id="476bc-214">dotnet ef dbcontext scaffold</span></span>

<span data-ttu-id="476bc-215">Génère du code pour un `DbContext` et types d’entité pour une base de données.</span><span class="sxs-lookup"><span data-stu-id="476bc-215">Generates code for a `DbContext` and entity types for a database.</span></span> <span data-ttu-id="476bc-216">Dans l’ordre de cette commande Générer un type d’entité, la table de base de données doit avoir une clé primaire.</span><span class="sxs-lookup"><span data-stu-id="476bc-216">In order for this command to generate an entity type, the database table must have a primary key.</span></span>

<span data-ttu-id="476bc-217">Arguments :</span><span class="sxs-lookup"><span data-stu-id="476bc-217">Arguments:</span></span>

| <span data-ttu-id="476bc-218">Argument</span><span class="sxs-lookup"><span data-stu-id="476bc-218">Argument</span></span>       | <span data-ttu-id="476bc-219">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-219">Description</span></span>                                                                                                                                                                                                             |
|:---------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `<CONNECTION>` | <span data-ttu-id="476bc-220">La chaîne de connexion à la base de données.</span><span class="sxs-lookup"><span data-stu-id="476bc-220">The connection string to the database.</span></span> <span data-ttu-id="476bc-221">Pour les projets ASP.NET Core 2.x, la valeur peut être *nom =\<nom de chaîne de connexion >*.</span><span class="sxs-lookup"><span data-stu-id="476bc-221">For ASP.NET Core 2.x projects, the value can be *name=\<name of connection string>*.</span></span> <span data-ttu-id="476bc-222">Dans ce cas, le nom est fourni à partir des sources de configuration qui sont configurées pour le projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-222">In that case the name comes from the configuration sources that are set up for the project.</span></span> |
| `<PROVIDER>`   | <span data-ttu-id="476bc-223">Le fournisseur à utiliser.</span><span class="sxs-lookup"><span data-stu-id="476bc-223">The provider to use.</span></span> <span data-ttu-id="476bc-224">En général, c’est le nom du package NuGet, par exemple : `Microsoft.EntityFrameworkCore.SqlServer`.</span><span class="sxs-lookup"><span data-stu-id="476bc-224">Typically this is the name of the NuGet package, for example: `Microsoft.EntityFrameworkCore.SqlServer`.</span></span>                                                                                           |

<span data-ttu-id="476bc-225">Options :</span><span class="sxs-lookup"><span data-stu-id="476bc-225">Options:</span></span>

|                 | <span data-ttu-id="476bc-226">Option</span><span class="sxs-lookup"><span data-stu-id="476bc-226">Option</span></span>                                   | <span data-ttu-id="476bc-227">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-227">Description</span></span>                                                                                                                                                                    |
|:----------------|:-----------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="476bc-228"><nobr>-d</nobr></span><span class="sxs-lookup"><span data-stu-id="476bc-228"><nobr>-d</nobr></span></span> | `--data-annotations`                     | <span data-ttu-id="476bc-229">Utilisez des attributs pour configurer le modèle (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="476bc-229">Use attributes to configure the model (where possible).</span></span> <span data-ttu-id="476bc-230">Si cette option est omise, uniquement l’API fluent est utilisé.</span><span class="sxs-lookup"><span data-stu-id="476bc-230">If this option is omitted, only the fluent API is used.</span></span>                                                                |
| `-c`            | `--context <NAME>`                       | <span data-ttu-id="476bc-231">Le nom de la `DbContext` classe à générer.</span><span class="sxs-lookup"><span data-stu-id="476bc-231">The name of the `DbContext` class to generate.</span></span>                                                                                                                                 |
|                 | `--context-dir <PATH>`                   | <span data-ttu-id="476bc-232">Le répertoire de placer le `DbContext` fichier de classe dans.</span><span class="sxs-lookup"><span data-stu-id="476bc-232">The directory to put the `DbContext` class file in.</span></span> <span data-ttu-id="476bc-233">Chemins d’accès sont relatif au répertoire de projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-233">Paths are relative to the project directory.</span></span> <span data-ttu-id="476bc-234">Espaces de noms sont dérivés les noms de dossiers.</span><span class="sxs-lookup"><span data-stu-id="476bc-234">Namespaces are derived from the folder names.</span></span>                                 |
| `-f`            | `--force`                                | <span data-ttu-id="476bc-235">Remplacer les fichiers existants.</span><span class="sxs-lookup"><span data-stu-id="476bc-235">Overwrite existing files.</span></span>                                                                                                                                                      |
| `-o`            | `--output-dir <PATH>`                    | <span data-ttu-id="476bc-236">Répertoire à placer les fichiers de classe d’entité dans.</span><span class="sxs-lookup"><span data-stu-id="476bc-236">The directory to put entity class files in.</span></span> <span data-ttu-id="476bc-237">Chemins d’accès sont relatif au répertoire de projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-237">Paths are relative to the project directory.</span></span>                                                                                       |
|                 | <nobr>`--schema <SCHEMA_NAME>...`</nobr> | <span data-ttu-id="476bc-238">Les schémas des tables pour générer des types d’entité.</span><span class="sxs-lookup"><span data-stu-id="476bc-238">The schemas of tables to generate entity types for.</span></span> <span data-ttu-id="476bc-239">Pour spécifier plusieurs schémas, répétez `--schema` pour chacun d'entre eux.</span><span class="sxs-lookup"><span data-stu-id="476bc-239">To specify multiple schemas, repeat `--schema` for each one.</span></span> <span data-ttu-id="476bc-240">Si cette option est omise, tous les schémas sont inclus.</span><span class="sxs-lookup"><span data-stu-id="476bc-240">If this option is omitted, all schemas are included.</span></span>          |
| `-t`            | <span data-ttu-id="476bc-241">`--table <TABLE_NAME>`...</span><span class="sxs-lookup"><span data-stu-id="476bc-241">`--table <TABLE_NAME>`...</span></span>                | <span data-ttu-id="476bc-242">Les tables pour générer des types d’entité.</span><span class="sxs-lookup"><span data-stu-id="476bc-242">The tables to generate entity types for.</span></span> <span data-ttu-id="476bc-243">Pour spécifier plusieurs tables, répétez `-t` ou `--table` pour chacun d'entre eux.</span><span class="sxs-lookup"><span data-stu-id="476bc-243">To specify multiple tables, repeat `-t` or `--table` for each one.</span></span> <span data-ttu-id="476bc-244">Si cette option est omise, toutes les tables sont inclus.</span><span class="sxs-lookup"><span data-stu-id="476bc-244">If this option is omitted, all tables are included.</span></span>                |
|                 | `--use-database-names`                   | <span data-ttu-id="476bc-245">Utiliser des noms de table et colonne exactement telles qu’elles apparaissent dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="476bc-245">Use table and column names exactly as they appear in the database.</span></span> <span data-ttu-id="476bc-246">Si cette option est omise, les noms de base de données sont modifiés pour mieux se conformer aux conventions de style de nom C#.</span><span class="sxs-lookup"><span data-stu-id="476bc-246">If this option is omitted, database names are changed to more closely conform to C# name style conventions.</span></span> |

<span data-ttu-id="476bc-247">L’exemple suivant structure tous les schémas et les tables et place les nouveaux fichiers dans le *modèles* dossier.</span><span class="sxs-lookup"><span data-stu-id="476bc-247">The following example scaffolds all schemas and tables and puts the new files in the *Models* folder.</span></span>

```console
dotnet ef dbcontext scaffold "Server=(localdb)\mssqllocaldb;Database=Blogging;Trusted_Connection=True;" Microsoft.EntityFrameworkCore.SqlServer -o Models
```

<span data-ttu-id="476bc-248">L’exemple suivant structure que les tables sélectionnées et crée le contexte dans un dossier distinct avec un nom spécifié :</span><span class="sxs-lookup"><span data-stu-id="476bc-248">The following example scaffolds only selected tables and creates the context in a separate folder with a specified name:</span></span>

```console
dotnet ef dbcontext scaffold "Server=(localdb)\mssqllocaldb;Database=Blogging;Trusted_Connection=True;" Microsoft.EntityFrameworkCore.SqlServer -o Models -t Blog -t Post --context-dir Context -c BlogContext
```

## <a name="dotnet-ef-migrations-add"></a><span data-ttu-id="476bc-249">ajouter des migrations d’ef dotnet</span><span class="sxs-lookup"><span data-stu-id="476bc-249">dotnet ef migrations add</span></span>

<span data-ttu-id="476bc-250">Ajoute une nouvelle migration.</span><span class="sxs-lookup"><span data-stu-id="476bc-250">Adds a new migration.</span></span>

<span data-ttu-id="476bc-251">Arguments :</span><span class="sxs-lookup"><span data-stu-id="476bc-251">Arguments:</span></span>

| <span data-ttu-id="476bc-252">Argument</span><span class="sxs-lookup"><span data-stu-id="476bc-252">Argument</span></span> | <span data-ttu-id="476bc-253">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-253">Description</span></span>                |
|:---------|:---------------------------|
| `<NAME>` | <span data-ttu-id="476bc-254">Le nom de la migration.</span><span class="sxs-lookup"><span data-stu-id="476bc-254">The name of the migration.</span></span> |

<span data-ttu-id="476bc-255">Options :</span><span class="sxs-lookup"><span data-stu-id="476bc-255">Options:</span></span>

|                   | <span data-ttu-id="476bc-256">Option</span><span class="sxs-lookup"><span data-stu-id="476bc-256">Option</span></span>                             | <span data-ttu-id="476bc-257">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-257">Description</span></span>                                                                                                      |
|:------------------|:-----------------------------------|:-----------------------------------------------------------------------------------------------------------------|
| <nobr>`-o`</nobr> | <nobr>`--output-dir <PATH>`</nobr> | <span data-ttu-id="476bc-258">Le répertoire (et espace de noms secondaire) à utiliser.</span><span class="sxs-lookup"><span data-stu-id="476bc-258">The directory (and sub-namespace) to use.</span></span> <span data-ttu-id="476bc-259">Chemins d’accès sont relatif au répertoire de projet.</span><span class="sxs-lookup"><span data-stu-id="476bc-259">Paths are relative to the project directory.</span></span> <span data-ttu-id="476bc-260">La valeur par défaut est « Migrations ».</span><span class="sxs-lookup"><span data-stu-id="476bc-260">Defaults to "Migrations".</span></span> |

## <a name="dotnet-ef-migrations-list"></a><span data-ttu-id="476bc-261">liste de dotnet ef migrations</span><span class="sxs-lookup"><span data-stu-id="476bc-261">dotnet ef migrations list</span></span>

<span data-ttu-id="476bc-262">Répertorie les migrations disponibles.</span><span class="sxs-lookup"><span data-stu-id="476bc-262">Lists available migrations.</span></span>

## <a name="dotnet-ef-migrations-remove"></a><span data-ttu-id="476bc-263">supprimer des migrations d’ef dotnet</span><span class="sxs-lookup"><span data-stu-id="476bc-263">dotnet ef migrations remove</span></span>

<span data-ttu-id="476bc-264">Supprime la dernière migration (annule les modifications de code qui ont été effectuées pour la migration).</span><span class="sxs-lookup"><span data-stu-id="476bc-264">Removes the last migration (rolls back the code changes that were done for the migration).</span></span>

<span data-ttu-id="476bc-265">Options :</span><span class="sxs-lookup"><span data-stu-id="476bc-265">Options:</span></span>

|                   | <span data-ttu-id="476bc-266">Option</span><span class="sxs-lookup"><span data-stu-id="476bc-266">Option</span></span>    | <span data-ttu-id="476bc-267">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-267">Description</span></span>                                                                     |
|:------------------|:----------|:--------------------------------------------------------------------------------|
| <nobr>`-f`</nobr> | `--force` | <span data-ttu-id="476bc-268">Rétablir la migration (annuler les modifications qui ont été appliquées à la base de données).</span><span class="sxs-lookup"><span data-stu-id="476bc-268">Revert the migration (roll back the changes that were applied to the database).</span></span> |

## <a name="dotnet-ef-migrations-script"></a><span data-ttu-id="476bc-269">script de dotnet ef migrations</span><span class="sxs-lookup"><span data-stu-id="476bc-269">dotnet ef migrations script</span></span>

<span data-ttu-id="476bc-270">Génère un script SQL à partir de migrations.</span><span class="sxs-lookup"><span data-stu-id="476bc-270">Generates a SQL script from migrations.</span></span>

<span data-ttu-id="476bc-271">Arguments :</span><span class="sxs-lookup"><span data-stu-id="476bc-271">Arguments:</span></span>

| <span data-ttu-id="476bc-272">Argument</span><span class="sxs-lookup"><span data-stu-id="476bc-272">Argument</span></span> | <span data-ttu-id="476bc-273">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-273">Description</span></span>                                                                                                                                                   |
|:---------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `<FROM>` | <span data-ttu-id="476bc-274">La migration de départ.</span><span class="sxs-lookup"><span data-stu-id="476bc-274">The starting migration.</span></span> <span data-ttu-id="476bc-275">Migrations peuvent être identifiées par nom ou par ID.</span><span class="sxs-lookup"><span data-stu-id="476bc-275">Migrations may be identified by name or by ID.</span></span> <span data-ttu-id="476bc-276">La valeur 0 est un cas spécial signifie *avant la première migration*.</span><span class="sxs-lookup"><span data-stu-id="476bc-276">The number 0 is a special case that means *before the first migration*.</span></span> <span data-ttu-id="476bc-277">La valeur par défaut est 0.</span><span class="sxs-lookup"><span data-stu-id="476bc-277">Defaults to 0.</span></span> |
| `<TO>`   | <span data-ttu-id="476bc-278">La migration de fin.</span><span class="sxs-lookup"><span data-stu-id="476bc-278">The ending migration.</span></span> <span data-ttu-id="476bc-279">Valeur par défaut est la dernière migration.</span><span class="sxs-lookup"><span data-stu-id="476bc-279">Defaults to the last migration.</span></span>                                                                                                         |

<span data-ttu-id="476bc-280">Options :</span><span class="sxs-lookup"><span data-stu-id="476bc-280">Options:</span></span>

|                   | <span data-ttu-id="476bc-281">Option</span><span class="sxs-lookup"><span data-stu-id="476bc-281">Option</span></span>            | <span data-ttu-id="476bc-282">Description</span><span class="sxs-lookup"><span data-stu-id="476bc-282">Description</span></span>                                                        |
|:------------------|:------------------|:-------------------------------------------------------------------|
| <nobr>`-o`</nobr> | `--output <FILE>` | <span data-ttu-id="476bc-283">Fichier dans lequel écrire le script.</span><span class="sxs-lookup"><span data-stu-id="476bc-283">The file to write the script to.</span></span>                                   |
| `-i`              | `--idempotent`    | <span data-ttu-id="476bc-284">Générer un script qui peut être utilisé sur toute migration d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="476bc-284">Generate a script that can be used on a database at any migration.</span></span> |

<span data-ttu-id="476bc-285">L’exemple suivant crée un script pour la migration de InitialCreate :</span><span class="sxs-lookup"><span data-stu-id="476bc-285">The following example creates a script for the InitialCreate migration:</span></span>

```console
dotnet ef migrations script 0 InitialCreate
```

<span data-ttu-id="476bc-286">L’exemple suivant crée un script pour toutes les migrations après la migration InitialCreate.</span><span class="sxs-lookup"><span data-stu-id="476bc-286">The following example creates a script for all migrations after the InitialCreate migration.</span></span>

```console
dotnet ef migrations script 20180904195021_InitialCreate
```
